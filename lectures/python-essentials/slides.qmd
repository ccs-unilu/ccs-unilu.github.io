---
title: "Python for CompCogSci"
date: 2026-11-21
date-format: "MMMM YYYY"
format: revealjs
execute:
    echo: true
number-sections: false
code-block-bg: true
---

## Welcome!

## Info

- 8 sessions, the last two for project presentations
- 3 ECTS for PhD students
- **Materials**: [ccs-unilu.github.io](https://ccs-unilu.github.io)
- **Discussions**: Moodle or [github.com/ccs-unilu](https://github.com/ccs-unilu/)

## Why Python?

We are going to use Python for this course because it is:

- free and open-source
- cross-platform
- easy to read syntax
- widely used, well-supported, well-documented
- enormous standard library and third-party libraries (many academic libs)
- options to increase speed

:::{.notes}
Expand each
:::

## `https://colab.google`

![](./figures/colab-empty.png)


## TODO

Black Screen Syndrome!

- Create a new Google Colab notebook and save it as 'ccs-unilu-session1'.
- Add a new markdown cell with your name.
- Add a new code cell that prints `Hello, World!`.

```python
print("Hello, World!")
```

## Python as Calculator

```{python}
2 + 3 * 5
```

```{python}
#| code-line-numbers: "1|2"
from math import sin, pi
sin(pi / 2)
```

## Integer division

```{python}
#| code-line-numbers: "1|2|3"
print(5/2)   # float division
print(5//2)  # floor division
print(5 % 2) # remainder
```

## TODO

- Our study took 7.5 hours. How many milliseconds?
- A HIT on Amazon MTurk pays $0.75 for 15 minutes. How much should they pay for a task that takes 53 minutes?

Write your answer in a code cell.

## Variables

```{python}
#| code-line-numbers: "1,2|3|4|5|7,8"
weight = 55
height = 1.65
b = weight
b *= 2
b /= height ** 2

text_left, text_right = "Bel", "Val"
print(f"Hello, {text_left}{text_right}!")
```

## TODO

- Run `%whos` in a code cell to see the list of defined variables.

- What does the following code do?
```{python}
current_difficulty = 10
next_difficulty = 20
temp = current_difficulty
current_difficulty = next_difficulty
next_difficulty = temp
```

- Interchange the contents of x and y using multiple assignment without temp variable, so x is y and y is x.

## Basic Data Types

- text (`str`) 
- numbers (`int`, `float`)
- True/False (`bool`)
- collections (`list`, `tuple`, `dict`, `set`)


```{python}
#| code-line-numbers: "1|2|3|4"
x = 42            # int
pi = 3.14         # float
is_valid = True   # bool
type(is_valid)
```

## Lists

```{python}
#| code-line-numbers: "1|2"
numbers = [1, 4, 9]
mixed = [1, "a", [10, 20]]
```

```{python}
#| code-line-numbers: "1|2|3|4"
len(numbers)
numbers[0]
numbers[-1]             # last element
numbers[0:2]            # slice
numbers[1:10:2]         # ... with step
```

## TODO

- What does `numbers[::-1]` do?


## List methods
```{python}
numbers = [1, 4, 9]
numbers.append(16)
numbers.extend([25, 36])
numbers.insert(1, 2)
```

## TODO

- Rune append, extend, and insert on the `numbers` list above and observe the changes.
- What does happen wen we run `numbers = numbers.append(16)`?


## Texts

```{.python code-line-numbers="1|2|4,5,6"}
msg1 = 'Hello, World!'
msg2 = "Hello, World!"

msg3 = """This is
a multiline
string."""
```

You can also explicitly declare the type:

```{python}
msg: str = "Hello, World!"
```

## Formatted string

```{python}
#| code-line-numbers: "2"
name = "Cognitive Science"
msg = f"Hello, {name}!"
print(msg)
```

## Template strings (3.14+)

Every October we get a new Python version!

```python
template = t"Hello {name}"
```

## String operations

```{python}
len("Cognition")        # length of string
list("brain")           # turn into list of characters
int("42")               # convert to integer
float("3.14")           # convert to number
```

## Or methods

```{python}
#| code-line-numbers: "1|2|3|4"
name.upper()
"   spaced   ".strip()
"cog sci".split(" ")
"-".join(["a", "b", "c"])
```


## Escaping and raw string

```{python}
#| code-line-numbers: "1|2"
r"C:\folder\new_file.txt"
print("Line1\nLine2\tTabbed")
```

## TODO

- Turn "computational" into a list of characters.
- Reverse the string "neuroscience" using slicing.


## Dictionaries

```{python}
#| code-line-numbers: "1|2|3"
person = {"name": "Alice", "age": 30, "is_student": False}
person["name"]
person["age"] = 31
person["height"] = 1.70
```


## Built-in functions

```{python}
type(height)
round(3.14159, 2)
list(range(5))
print("Done!")
```

## TODO

- Using weight and height, compute BMI with: $BMI = \frac{weight}{(height)^2}$
- Create a form in Colab to auto-report BMI. Use `# @param {"type":"number"}` for weight and height.

## Getting help

```{python}
# This is a comment
help(len)
dir(str)
```

## Error Messages

```{python}
#| error: true
# this causes an error
b = 5
a = "2"

a + b
```

## TODO

- Use type casting to fix the error.

## Modules

```{python}
import math
math.sqrt(16)

import time
print(time.ctime())
```


## TODO

- `import this` and read the Zen of Python. What are your favorite principles?


## Loops

```{python}
#| code-line-numbers: "1,2|4,5"
for item in ["a", "b", "c"]:
    print(item)

for i, item in enumerate(["a", "b", "c"]):
    print(i, item)
```

## TODO

- Create a list of participant IDs: ['P1', 'P2', ..., 'P10'] using a loop or list comprehension and list.append

## While loop

```{python}
x = 3
while x > 0:
    print(x)
    x -= 1
```

## Conditions

```{python}
age = 20
if age < 18:
    print("Minor")
elif age < 65:
    print("Adult")
else:
    print("Senior")
```


## Match-case (Python 3.10+)

```{python}
response_code = "left"

match response_code:
    case "left":
        print("Response is correct")
    case "right":
        print("Response is incorrect")
    case _:
        print("Unknown response")
```

## List comprehension

```{python}
[x**2 for x in range(5)]
```

```{python}
[x**2 for x in range(10) if x > 5]
```

## TODO

- Use a list comprehension to extract all even numbers from range(1, 50).


## Files

## Upload files to Colab

```python
from google.colab import files
uploaded = files.upload()
```

## Read a file

```python
f = open('example.txt', 'r')
contents = f.read()
f.close()
```

## Or do it safely using 'with':

```python
with open('example.txt', 'r') as f:
    contents = f.read()
```


## Pandas

```python
import pandas as pd

df = pd.read_csv("yourfile.csv")
df.head()
df.info()
df.describe()
```

## Plotting with Pandas

```python
df.hist()
```

## Or with seaborn

```python
import seaborn as sns
sns.scatterplot(data=df, x="col1", y="col2")
```


## TODO

Load a CSV file and:

- Show the first 5 rows using df.head().
- Plot a histogram of one numeric column.
- Compute the mean of any numeric variable.


## NumPy

```python
import numpy as np

arr = np.array([1, 2, 3, 4])
arr_2d = np.array([[1,2,3],[4,5,6]])
arr_2d.shape
arr_2d[0,1]
arr_2d[:,1]
```

## basic stats

```python
np.mean(arr)
np.mean(arr_2d, axis=0)
```

## Generate random numbers

```python
np.random.seed(42)
np.random.normal(loc=0, scale=1, size=5)
np.random.choice([0,1], size=10)
```

## TODO

- Simulate 100 response times from a normal distribution (mean=500 ms, SD=80 ms) and compute: mean, min, max, and standard deviation.
- Remove invalid RTs (< 0 ms)
- Simulate 100 response times from a lognormal distribution (mean=6, sigma=0.2). Compute the same statistics.


## Functions

```python
def bmi(weight, height=1.90):
    """Compute BMI."""
    return weight / (height**2)

bmi(60, 1.65)
```

## TODO

- Write a function `zscore(x, mean, std)` that returns the z-score.


## Scope

```{python}
x = "global"

def f():
    x = "f"
    print("x=", x)

def g():
    global x
    x = "g"
    print("x=", x)

f()
print("x=", x)
g()
print("x=", x)

```


## Error handling

```python
try:
    x = int("abc")
except ValueError:
    print("Invalid integer!")
finally:
    print("Done")
```


## Assertion

```python
def sqrt(x):
    assert x >= 0, "x must be non-negative"
    return x**0.5
```


## Standard Library

## math

```{python}
import math
print(math.pi)
print(math.sqrt(9))
```

## os

```{python}
import os
os.listdir()
os.getcwd()
```

## TODO

- Use the `os` module to create a new directory named 'data' in the current working directory.
- List all files in the current directory using `os.listdir()`.

## sys

```{python}
import sys
sys.version
```

## TODO

- What is the version of Python you are using?
- Use sys.version_info.minor to check if you can run this code:

```python
type Point = tuple[int, int]
p: Point = (3, 4)
```

## glob

To match file names

```python
import glob
glob.glob("*.txt")
```

## TODO

- Find all `.csv` files in a directory using `glob`.
- Does it find files in subdirectories?
- Load all the csv files into a single Pandas DataFrame.


## Regular expressions

```{python}
import re
re.findall(r"\d+", "RT=532ms, ACC=1")
```


## TODO

- Extract all floating-point numbers from: `RT=512.3 ms, RT=489.1 ms, RT=501.7 ms` using regex.

:::{.callout-tip collapse="true" title="Solution" appearance="simple"}
```{python}
import re
text = "RT=512.3 ms, RT=489.1 ms, RT=501.7 ms"
response_times = re.findall(r"RT=(\d+\.\d+) ms", text)
response_times = [float(rt) for rt in response_times]
print(response_times)
```
:::

## Magic commands

Only on Colab/Jupyter

```{python}
%lsmagic
```

## TODO

- What does `%pip` do? Use `?` or `??` to find out.

## Install packages

```python
!pip install PyDDM
!pip install pymc
```


## How long does it take?

```{python}
%%time
sum(range(10_000_000))
```


## Version control

- Save a new version of your notebook to Google Drive
- Access your Google Drive from Colab


```python
from google.colab import drive
drive.mount('/content/drive')
```

## TODO

- Create a random DataFrame and save it as CSV to your Drive

## Scikit-learn

```{.python code-line-numbers="3,4|5,6|7|8|9"}
from sklearn.linear_model import LinearRegression
import numpy as np
X = np.array([[1], [2], [3], [4], [5],[6]])
y = np.array([2, 3, 5, 7, 11, 13])
train_X, test_X = X[:4], X[4:]
train_y, test_y = y[:4], y[4:]
model = LinearRegression()
model.fit(X, y)
predictions = model.predict(X)
print(predictions)
```

## Cross-validation

```{.python code-line-numbers="2"}
from sklearn.model_selection import cross_val_score
scores = cross_val_score(model, X, y, cv=3)
print(scores)
```



## Next Steps

- Practice!
- See example projects on [ccs-unilu.github.io](https://ccs-unilu.github.io).
